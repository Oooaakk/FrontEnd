{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"building\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"color\"\n}, \"Login\", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"btnGroup\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HubIcon = _resolveComponent(\"HubIcon\");\n\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_el_card = _resolveComponent(\"el-card\");\n\n  const _directive_loading = _resolveDirective(\"loading\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_HubIcon), _createElementVNode(\"div\", null, [_createVNode(_component_el_card, {\n    class: \"box-card\"\n  }, {\n    default: _withCtx(() => [_hoisted_2, _createVNode(_component_el_form, {\n      model: $data.ruleForm,\n      \"status-icon\": \"\",\n      rules: $data.rules,\n      ref: \"ruleForm\",\n      \"label-position\": \"left\",\n      \"label-width\": \"100px\",\n      class: \"login-from\",\n      \"hide-required-aterisk\": \"false\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        class: \"color1\",\n        label: \"Email\",\n        prop: \"uname\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.ruleForm.uname,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.ruleForm.uname = $event)\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_form_item, {\n        class: \"color1\",\n        label: \"Password\",\n        prop: \"password\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          type: \"password\",\n          modelValue: $data.ruleForm.password,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.ruleForm.password = $event),\n          autocomplete: \"off\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\"])]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"model\", \"rules\"]), _createElementVNode(\"div\", null, [_createVNode(_component_el_button, {\n      onClick: _cache[2] || (_cache[2] = $event => _ctx.$router.push('/moviehub/forgetpassword')),\n      class: \"forgetpass\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Forgot password?\")]),\n      _: 1\n      /* STABLE */\n\n    })]), _createElementVNode(\"div\", _hoisted_3, [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[3] || (_cache[3] = $event => $options.submitForm('ruleForm'))\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Login \")]),\n      _: 1\n      /* STABLE */\n\n    })), [[_directive_loading, $data.loading]]), _createVNode(_component_el_button, {\n      onClick: _cache[4] || (_cache[4] = $event => $options.resetForm('ruleForm'))\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Reset\")]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_router_link, {\n      to: \"/moviehub/RegisterPage\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        style: {\n          \"margin-left\": \"10px\"\n        }\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Register\")]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })])]),\n    _: 1\n    /* STABLE */\n\n  })])]);\n}","map":{"version":3,"mappings":";;;EACOA,EAAE,EAAE;;;gCAILC,oBAA8B,IAA9B,EAA8B;EAA1BC,KAAK,EAAG;AAAkB,CAA9B,EAAoB,OAApB,EAAyB;AAAA;AAAzB;;;EAyBKA,KAAK,EAAC;;;;;;;;;;;;;;;;;;;uBA7BfC,oBA0CI,KA1CJ,cA0CI,CAzCAC,aAAmBC,kBAAnB,CAyCA,EAxCJJ,oBAuCM,KAvCN,EAuCM,IAvCN,EAuCM,CAtCJG,aAqCUE,kBArCV,EAqCU;IArCDJ,KAAK,EAAC;EAqCL,CArCV,EAAyB;sBACvB,MAA8B,CAA9BK,UAA8B,EAC9BH,aAoBUI,kBApBV,EAoBU;MAnBPC,KAAK,EAAEC,cAmBA;MAlBR,iBAkBQ;MAjBPC,KAAK,EAAED,WAiBA;MAhBRE,GAAG,EAAC,UAgBI;MAfR,kBAAe,MAeP;MAdR,eAAY,OAcJ;MAbRV,KAAK,EAAC,YAaE;MAZR,yBAAsB;IAYd,CApBV;wBAUE,MAEe,CAFfE,aAEeS,uBAFf,EAEe;QAFDX,KAAK,EAAG,QAEP;QAFgBY,KAAK,EAAC,OAEtB;QAF8BC,IAAI,EAAC;MAEnC,CAFf;0BACE,MAA8C,CAA9CX,aAA8CY,mBAA9C,EAA8C;sBAA3BN,eAASO,KAAkB;qEAA3BP,eAASO,QAAKC;QAAa,CAA9C;;QAAA,iBAA8C;;;;OADhD,CAEe,EACfd,aAMeS,uBANf,EAMe;QANDX,KAAK,EAAG,QAMP;QANgBY,KAAK,EAAC,UAMtB;QANiCC,IAAI,EAAC;MAMtC,CANf;0BACE,MAIY,CAJZX,aAIYY,mBAJZ,EAIY;UAHVG,IAAI,EAAC,UAGK;sBAFDT,eAASU,QAER;qEAFDV,eAASU,WAAQF,OAEhB;UADVG,YAAY,EAAC;QACH,CAJZ;;QAAA,iBAIY;;;;OALd,CADe;;;;KAZjB;;IAAA,qBAD8B,EAsB9BpB,oBAEM,KAFN,EAEM,IAFN,EAEM,CADNG,aAA4GkB,oBAA5G,EAA4G;MAAhGC,OAAK,sCAAEC,aAAQC,IAAR,CAAY,0BAAZ,CAAF,CAA2F;MAA/CvB,KAAK,EAAC;IAAyC,CAA5G;wBAAgF,MAAgB,kBAAhB,mBAAgB;;;;KAAhG,CACM,CAFN,CAtB8B,EAyB9BD,oBAUM,KAVN,cAUM,gCARJyB,aAGcJ,oBAHd,EAGc;MAHHH,IAAI,EAAC,SAGF;MAHaI,OAAK,sCAAEI,oBAAU,UAAV,CAAF;IAGlB,CAHd;wBAEG,MACD,kBADC,SACD;;;;KAHF,0BACWjB,gBAOP,EAJJN,aAA2DkB,oBAA3D,EAA2D;MAA/CC,OAAK,sCAAEI,mBAAS,UAAT,CAAF;IAA0C,CAA3D;wBAA0C,MAAK,kBAAL,QAAK;;;;KAA/C,CAII,EAHJvB,aAEcwB,sBAFd,EAEc;MAFDC,EAAE,EAAC;IAEF,CAFd,EAAwC;wBACtC,MAAwD,CAAxDzB,aAAwDkB,oBAAxD,EAAwD;QAA7CQ,KAAwB,EAAxB;UAAA;QAAA;MAA6C,CAAxD,EAAmC;0BAAC,MAAQ,kBAAR,WAAQ,EAAT;;;;MAAA,CAAnC,CAAwD,EADlB;;;;IAAA,CAAxC,CAGI,CAVN,CAzB8B,EADP;;;;EAAA,CAAzB,CAsCI,CAvCN,CAwCI,CA1CJ","names":["id","_createElementVNode","class","_createElementBlock","_createVNode","_component_HubIcon","_component_el_card","_hoisted_2","_component_el_form","model","$data","rules","ref","_component_el_form_item","label","prop","_component_el_input","uname","$event","type","password","autocomplete","_component_el_button","onClick","_ctx","push","_createBlock","$options","_component_router_link","to","style"],"sourceRoot":"","sources":["D:\\comp30022 frontend\\comp30022-movie-review-website\\moviehub_frontend\\src\\views\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div id= 'building'>\r\n      <HubIcon></HubIcon>\r\n  <div >\r\n    <el-card class=\"box-card\">\r\n      <h2 class = \"color\">Login</h2>\r\n      <el-form\r\n        :model=\"ruleForm\"\r\n        status-icon\r\n        :rules=\"rules\"\r\n        ref=\"ruleForm\"\r\n        label-position=\"left\"\r\n        label-width=\"100px\"\r\n        class=\"login-from\"\r\n        hide-required-aterisk=\"false\"\r\n      >\r\n        <el-form-item class = \"color1\" label=\"Email\" prop=\"uname\" >\r\n          <el-input v-model=\"ruleForm.uname\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item class = \"color1\" label=\"Password\" prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"ruleForm.password\"\r\n            autocomplete=\"off\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div>\r\n      <el-button @click=\"$router.push('/moviehub/forgetpassword')\" class=\"forgetpass\">Forgot password?</el-button>\r\n      </div>\r\n      <div class=\"btnGroup\">\r\n          \r\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n        v-loading=\"loading\"\r\n          >Login\r\n          </el-button>\r\n        <el-button @click=\"resetForm('ruleForm')\">Reset</el-button>\r\n        <router-link to=\"/moviehub/RegisterPage\">\r\n          <el-button style=\"margin-left:10px\">Register</el-button>\r\n        </router-link>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport HubIcon from '@/components/HubIcon.vue';\r\nimport request from \"@/utils/RequestFile.js\";\r\nexport default {\r\n  data() {\r\n      return {\r\n          components: {\r\n              HubIcon\r\n          },\r\n          ruleForm: {\r\n              uname: \"\",\r\n              password: \"\",\r\n          },\r\n          rules: {\r\n              uname: [\r\n                    { required: true, message: \"email cannot be blank\", trigger: \"blur\" },\r\n                    { type: \"email\", message: \"input correct email\", trigger: \"change\" },\r\n              ],\r\n              password: [\r\n                    { required: true, message: \"password cannot be blank\", trigger: \"blur\" },\r\n              ],\r\n          },\r\n          loading: false,\r\n      };\r\n  },\r\n  methods: {\r\n      submitForm(formName) {\r\n          this.$refs[formName].validate((valid) => {\r\n          // click login, login animation\r\n          this.loading = true;\r\n          // if (valid) {\r\n          //   console.log(\"movie\")\r\n          //   request2.get(\"/k_gh3vr6fp\").then(res => {\r\n          //     console.log(\"success\");\r\n          //   })\r\n          // }\r\n          if (valid) {\r\n              console.log('submit!')\r\n              request.post(\"/user/login\", {email: this.ruleForm.uname, password: this.ruleForm.password}).then(res => {\r\n                      \r\n                    if(res.status === 200){\r\n                      console.log(\"success\");\r\n                      localStorage.setItem(\"user\", JSON.stringify(res.data.access_token))  \r\n                      this.$router.push('/moviehub/mainpageuser/'+res.data.body.id);\r\n                      \r\n                   }\r\n              }).catch((err)=>{\r\n                console.log(err)\r\n                this.$message({\r\n                      message: \"incorrect password or email!\",\r\n                      type: \"error\",\r\n                })\r\n                this.$router.push(\"/moviehub/loginpage\");\r\n              })\r\n                   \r\n          } else {  \r\n            console.log(\"error submit!!\");\r\n\r\n            this.loading = false;\r\n            return false;\r\n          }\r\n          });\r\n      },\r\n      resetForm(formName) {\r\n          this.$refs[formName].resetFields();\r\n      },\r\n  },\r\n  components: { HubIcon }\r\n};\r\n</script>\r\n\r\n<style >\r\n.color {\r\n  color: orange;\r\n}\r\n.forgetpass {\r\n  color: orange;\r\n}\r\n.color1 .el-form-item__label{\r\n  color : orange;\r\n}\r\n.box-card {\r\n  margin: auto auto;\r\n  margin-top: 150px;\r\n  width: 400px;\r\n}\r\n.login-from {\r\n  margin: auto auto;\r\n}\r\n#building{\r\nbackground:url('https://wallpapercave.com/dwp2x/wp11089675.jpg');\r\nwidth:100%;\r\nheight:100%;\r\nposition:fixed;\r\nbackground-size:100% 100%;\r\n}\r\n\r\n.btnGroup{\r\n  margin-top: 20px;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}