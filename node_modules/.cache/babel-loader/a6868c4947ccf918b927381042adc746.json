{"ast":null,"code":"import { ref } from 'vue';\nimport HubIcon from '@/components/HubIcon.vue';\nimport AvatarIcon from '../components/AvatarIcon.vue';\nimport request2 from \"@/utils/Request2.js\";\nimport request from '@/utils/RequestFile';\nexport default {\n  data() {\n    return {\n      components: {\n        HubIcon\n      },\n      rules: {\n        imdbmovietitle: [{\n          required: true,\n          message: \"choose title!!\",\n          trigger: \"blur\"\n        }],\n        textarea: [{\n          required: true,\n          message: \"review cannot be blank\",\n          trigger: \"blur\"\n        }],\n        rating: [{\n          required: true,\n          message: \"rating cannot be blank\",\n          trigger: \"blur\"\n        }]\n      },\n      form: {\n        imdbmovietitle: \"\",\n        textarea: \"\",\n        rating: \"\"\n      },\n      movies: []\n    };\n  },\n\n  // mounted(){\n  //   this.searchTitle();\n  // },\n  methods: {\n    searchTitle() {\n      request2.get(\"/k_ghhlu321\" + this.form.imdbmovietitle).then(res => {\n        this.movies.push(res.data.items);\n        console.log(this.movies);\n      });\n    },\n\n    save() {\n      request.post(\"/post\", this.form).then(res => {\n        console.log(res);\n\n        if (res.stutas === 200) {\n          this.$message({\n            //返回id movie card的\n            type: \"success\",\n            message: \"successfully post the movie\"\n          });\n        } else {\n          this.$message({\n            type: \"error\",\n            message: res.msg\n          });\n        }\n      });\n    }\n\n  },\n  components: {\n    HubIcon\n  }\n};","map":{"version":3,"mappings":"AA4DA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACJL;MADI,CADP;MAILM,KAAK,EAAE;QACLC,cAAc,EAAE,CACJ;UAAEC,QAAQ,EAAE,IAAZ;UAAkBC,OAAO,EAAE,gBAA3B;UAA6CC,OAAO,EAAE;QAAtD,CADI,CADX;QAILC,QAAQ,EAAE,CACJ;UAAEH,QAAQ,EAAE,IAAZ;UAAkBC,OAAO,EAAE,wBAA3B;UAAqDC,OAAO,EAAE;QAA9D,CADI,CAJL;QAOLE,MAAM,EAAE,CACF;UAAEJ,QAAQ,EAAE,IAAZ;UAAkBC,OAAO,EAAE,wBAA3B;UAAqDC,OAAO,EAAE;QAA9D,CADE;MAPH,CAJF;MAgBLG,IAAI,EAAE;QACJN,cAAc,EAAE,EADZ;QAEJI,QAAQ,EAAE,EAFN;QAGJC,MAAM,EAAC;MAHH,CAhBD;MAuBNE,MAAM,EAAE;IAvBF,CAAP;EAyBD,CA3BY;;EA4Bb;EACA;EACA;EACAC,OAAO,EAAC;IACNC,WAAU,GAAK;MACbd,QAAQ,CAACe,GAAT,CAAa,gBAAgB,KAAKJ,IAAL,CAAUN,cAAvC,EAAuDW,IAAvD,CAA4DC,GAAE,IAAK;QAChE,KAAKL,MAAL,CAAYM,IAAZ,CAAiBD,GAAG,CAACf,IAAJ,CAASiB,KAA1B;QACAC,OAAO,CAACC,GAAR,CAAY,KAAKT,MAAjB;MACF,CAHD;IAID,CANK;;IAONU,IAAI,GAAE;MACJrB,OAAO,CAACsB,IAAR,CAAa,OAAb,EAAsB,KAAKZ,IAA3B,EAAiCK,IAAjC,CAAsCC,GAAE,IAAK;QACzCG,OAAO,CAACC,GAAR,CAAYJ,GAAZ;;QACA,IAAIA,GAAG,CAACO,MAAJ,KAAa,GAAjB,EAAsB;UACpB,KAAKC,QAAL,CAAc;YACZ;YACAC,IAAI,EAAE,SAFM;YAGZnB,OAAO,EAAE;UAHG,CAAd;QAKF,CANA,MAMO;UACL,KAAKkB,QAAL,CAAc;YACZC,IAAI,EAAE,OADM;YAEZnB,OAAO,EAAEU,GAAG,CAACU;UAFD,CAAd;QAIF;MACD,CAdH;IAeF;;EAvBM,CA/BK;EAyDbxB,UAAU,EAAE;IAAEL;EAAF;AAzDC,CAAf","names":["ref","HubIcon","AvatarIcon","request2","request","data","components","rules","imdbmovietitle","required","message","trigger","textarea","rating","form","movies","methods","searchTitle","get","then","res","push","items","console","log","save","post","stutas","$message","type","msg"],"sourceRoot":"","sources":["D:\\comp30022 frontend\\comp30022-movie-review-website\\moviehub_frontend\\src\\views\\PostPage.vue"],"sourcesContent":["\r\n<template>\r\n\r\n  <div class=\"common-layout\">\r\n      <el-container>\r\n        <el-header class=\"header\" >\r\n          <AvatarIcon/>\r\n        </el-header>\r\n        <el-main class=\"main\">\r\n\r\n        <div class=\"posthere\">  Post here </div>  \r\n        </el-main>\r\n        <el-form\r\n        :model=\"form\"\r\n        status-icon\r\n        :rules=\"rules\"\r\n        ref=\"Form\"\r\n        label-position=\"left\"\r\n        label-width=\"100px\"\r\n        class=\"login-from\"\r\n        hide-required-aterisk=\"true\">\r\n        \r\n        <el-form-item label = \"Movie title: \" class=\"movietitle\">\r\n          <el-select filterable allow-create\r\n\r\n          v-model=\"form.imdbmovietitle\" class=\"select\" placeholder=\"choose movie title\">\r\n    <el-option\r\n      v-for=\"item in movies\"\r\n      :key=\"item.value\"\r\n      :value=\"item.value\"\r\n\r\n    />\r\n  </el-select>\r\n        </el-form-item >\r\n       \r\n        <el-form-item label = \"Review: \" class=\"labelcolor\">\r\n        <el-input\r\n        v-model=\"form.textarea\"\r\n        :rows=\"3\"\r\n         type=\"textarea\"\r\n        placeholder=\"Please input movie review\"\r\n        class=\"textinput\"\r\n        \r\n        />\r\n      </el-form-item>\r\n      <el-form-item class = \"rating\" label=\"Rating\" prop=\"rating\">\r\n      <el-input-number v-model=\"form.rating\" :min=\"0\" :max=\"5\" @change=\"handleChange\" />\r\n    </el-form-item>\r\n  \r\n    </el-form>\r\n    <el-button type=\"warning\" round class=\"LRbutton\" @click=\"$router.push('/moviehub/dashboard/1234');save()\">Save</el-button> \r\n  </el-container>\r\n      \r\n    </div>\r\n    \r\n   <HubIcon/>\r\n  </template>\r\n\r\n\r\n  <script>\r\nimport { ref } from 'vue'\r\nimport HubIcon from '@/components/HubIcon.vue';\r\nimport AvatarIcon from '../components/AvatarIcon.vue';\r\nimport request2 from \"@/utils/Request2.js\";\r\nimport request from '@/utils/RequestFile';\r\nexport default {\r\n  data() {\r\n    return {\r\n      components: {\r\n              HubIcon\r\n          },\r\n      rules: {\r\n        imdbmovietitle: [\r\n                    { required: true, message: \"choose title!!\", trigger: \"blur\" },\r\n        ],\r\n        textarea: [\r\n              { required: true, message: \"review cannot be blank\", trigger: \"blur\" },\r\n        ],\r\n        rating: [\r\n              { required: true, message: \"rating cannot be blank\", trigger: \"blur\" },\r\n        ],\r\n\r\n      },\r\n      form: {\r\n        imdbmovietitle: \"\",\r\n        textarea: \"\",\r\n        rating:\"\"\r\n     \r\n      },\r\n      \r\n     movies: [],\r\n    }\r\n  },\r\n  // mounted(){\r\n  //   this.searchTitle();\r\n  // },\r\n  methods:{\r\n    searchTitle () {\r\n      request2.get(\"/k_ghhlu321\" + this.form.imdbmovietitle).then(res => {\r\n         this.movies.push(res.data.items);\r\n         console.log(this.movies)\r\n      })\r\n    },\r\n    save(){\r\n      request.post(\"/post\", this.form).then(res => {\r\n          console.log(res)\r\n          if (res.stutas===200) {\r\n            this.$message({\r\n              //返回id movie card的\r\n              type: \"success\",\r\n              message: \"successfully post the movie\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n        })\r\n    }\r\n  },\r\n  \r\n  components: { HubIcon }\r\n}\r\n</script>\r\n\r\n<style>\r\n  body {\r\nbackground-color: #222231;\r\n}\r\n.header{\r\n  background-color: black;\r\n\r\n}\r\n\r\n.LRbutton{\r\n  width:10%;\r\n  margin-top:25px;\r\n  margin-left:530px;\r\n}\r\n.main{\r\n  background-color: white;\r\n  height:64px;\r\n  \r\n}\r\n\r\n.posthere{\r\n  position: absolute;\r\n  font-weight: bold;\r\n  font-size: x-large;\r\n}\r\n.movietitle{\r\n   margin-top:50px;\r\n   margin-left:330px;\r\n\r\n}\r\n.labelcolor{\r\n   margin-top:50px;\r\n   margin-left:330px;\r\n\r\n}\r\n.textinput{\r\n  margin-right:170px;\r\n  width:50%;\r\n \r\n}\r\n.star{\r\n  margin-left:24px;\r\n}\r\n\r\n.movietitle .el-form-item__label {\r\n  color: orange\r\n}\r\n.genre{\r\n  margin-top:50px;\r\n   margin-left:330px;\r\n}\r\n.genre .el-form-item__label {\r\n  color: orange\r\n}\r\n.poster{\r\n  margin-top:50px;\r\n   margin-left:330px;\r\n}\r\n.poster .el-form-item__label {\r\n  color: orange\r\n}\r\n.rating .el-form-item__label {\r\n  color: orange\r\n}\r\n.rating{\r\n  margin-left:330px;\r\n  margin-top:50px;\r\n}\r\n\r\n.labelcolor .el-form-item__label {\r\n  color: orange\r\n}\r\n.movietitleinput{\r\n  width:50%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}